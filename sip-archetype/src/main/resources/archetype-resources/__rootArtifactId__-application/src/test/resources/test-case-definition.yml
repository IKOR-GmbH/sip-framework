# Test case definition template
# Before executing SIPBatchTest, it is necessary to add values for properties, which are needed to define a Test Case
test-case-definitions:
    # Title of individual test
  - title:
    # ** required property **
    when-execute:
      # Definition of test request which should be sent to the adapter
      # ----------
      # Id of endpoint under test
      endpoint:
      with:
        # Content that will be send as request body to the adapter endpoint (plain text, JSON String)
        body:
        headers:
          # Header key and value
          header-key:
    # ** optional property **
    with-mocks:
      # Definition of mocked endpoint's behavior
      # ----------
      # Id of processor with external endpoint
      - endpoint:
        returning:
          body: # Response message that real endpoint is expected to return

    # ** at least one validation is required **
    then-expect:
      # Validation of the response from test execution
      # ----------
      # Id of endpoint under test, matches endpoint under test defined in when phase
      - endpoint:
        having:
          # Add regex expression (java) which will be compared to the reponse of the test
          body:
          headers:
            # Add regex expression (java) which will be compared to the value of this header key
            header-key:
      # Validation of the request which arrived on the processor/endpoint
      # ----------
      # Id of endpoint that is mocked, matches endpoint with defined or default mocked behavior
      - endpoint:
        having:
          # Add regex expression (java) which will be compared to he body
          body:
          headers:
            # Add regex expression (java) which will be compared to the header value
            header-key:


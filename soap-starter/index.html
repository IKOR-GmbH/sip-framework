<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="author" content="IKOR" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>SIP Integration Starter - SIP Framework Documentation</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../css/extra.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "SIP Integration Starter";
        var mkdocs_page_input_path = "soap-starter.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href=".." class="icon icon-home"> SIP Framework Documentation
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="..">Introduction</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../installation/">Installation Guide</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../archetype/">Archetype</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../core/">Core</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../declarative/">Declarative Structure</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../integration-starter/">Integration Starter</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../starter-parent/">Starter Parent</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../security/">Security</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../test-kit/">Test Kit</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../middle-component/">Middle Component</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../framework_version_upgrade/">Framework Version Upgrade</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../license/">License</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../CONTRIBUTING/">Contribution Guidelines</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../CODE_OF_CONDUCT/">Code Of Conduct</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../changelog/">Changelog</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="" href="../javadoc/latest/index.html">JavaDoc Latest Development</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="" href="../javadoc/3.3.0/index.html">JavaDoc 3.3.0</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="" href="../javadoc/3.2.0/index.html">JavaDoc 3.2.0</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="" href="../javadoc/3.1.0/index.html">JavaDoc 3.1.0</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="" href="../javadoc/3.0.0/index.html">JavaDoc 3.0.0</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="" href="../javadoc/2.4.0/index.html">JavaDoc 2.4.0</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="" href="../javadoc/2.3.0/index.html">JavaDoc 2.3.0</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="" href="../javadoc/2.2.0/index.html">JavaDoc 2.2.0</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="" href="../javadoc/2.1.0/index.html">JavaDoc 2.1.0</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="" href="../javadoc/2.0.2/index.html">JavaDoc 2.0.2</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="" href="../javadoc/2.0.0/index.html">JavaDoc 2.0.0</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="" href="../javadoc/1.0.0/index.html">JavaDoc 1.0.0</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="" href="https://ikor.one/produkt/system-integration-platform">Find out more about IKOR</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="" href="https://ikor.one/impressum/">Impressum</a>
                </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="..">SIP Framework Documentation</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".." class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">SIP Integration Starter</li>
    <li class="wy-breadcrumbs-aside">
          <a href="https://github.com/IKOR-GmbH/sip-framework/edit/main/docs/soap-starter.md" class="icon icon-github"> Edit on GitHub</a>
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="sip-integration-starter">SIP Integration Starter<a class="headerlink" href="#sip-integration-starter" title="Permanent link">&para;</a></h1>
<div class="toc">
<ul>
<li><a href="#sip-integration-starter">SIP Integration Starter</a><ul>
<li><a href="#description">Description</a></li>
<li><a href="#features">Features</a></li>
<li><a href="#installation">Installation</a></li>
<li><a href="#usage">Usage</a><ul>
<li><a href="#inbound-connector">Inbound connector</a></li>
<li><a href="#outbound-connector">Outbound connector</a></li>
<li><a href="#bean-based-configuration">Bean based configuration</a></li>
<li><a href="#cxf-generator-plugin">CXF generator plugin</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<h2 id="description">Description<a class="headerlink" href="#description" title="Permanent link">&para;</a></h2>
<p>Starter project used to add necessary predefined dependencies for development of Adapters that use SOAP technology. It uses Apache CXF as an underlying library for SOAP implementation.
It can be used on both Inbound and Outbound connectors (to publish SOAP service or to consume SOAP service).
Usage of the soap-starter reduces boilerplate code and configuration needed to develop SOAP adapters. </p>
<h2 id="features">Features<a class="headerlink" href="#features" title="Permanent link">&para;</a></h2>
<ul>
<li>Inbound connector Base</li>
<li>Outbound connector Base</li>
<li>Bean based configuration</li>
<li>CXF generator plugin</li>
</ul>
<h2 id="installation">Installation<a class="headerlink" href="#installation" title="Permanent link">&para;</a></h2>
<p>If <strong><a href="../archetype/">SIP Archetype</a></strong> was used during the adapter creation and <strong>useSoap</strong> question was answered positively then there is no need
to add any dependencies manually.</p>
<p>If that is not the case, or if the adapter was made before the SOAP support was added to SIP Framework,
then this manual steps are needed:
1. Add SIP SOAP Starter dependency to project <em>pom.xml</em> (in the \&lt;dependencies&gt; section):</p>
<pre class="highlight"><code class="language-xml">&lt;dependency&gt;
  &lt;groupId&gt;de.ikor.sip.foundation&lt;/groupId&gt;
  &lt;artifactId&gt;sip-soap-starter&lt;/artifactId&gt;
&lt;/dependency&gt;</code></pre>
<ol start="2">
<li>
<p>Add Wsdl4j dependency to the project <em>pom.xml</em> (in the \&lt;dependencies&gt; section):
<pre class="highlight"><code class="language-xml">&lt;dependency&gt;
  &lt;groupId&gt;wsdl4j&lt;/groupId&gt;
  &lt;artifactId&gt;wsdl4j&lt;/artifactId&gt;
&lt;/dependency&gt;</code></pre></p>
</li>
<li>
<p>Add CXF Codegen Plugin to the project <em>pom.xml</em> (in the \&lt;build&gt;\&lt;plugins&gt; section):</p>
</li>
</ol>
<pre class="highlight"><code class="language-xml">&lt;plugin&gt;
  &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;
  &lt;artifactId&gt;cxf-codegen-plugin&lt;/artifactId&gt;
&lt;/plugin&gt;</code></pre>
<h2 id="usage">Usage<a class="headerlink" href="#usage" title="Permanent link">&para;</a></h2>
<p>Exposed SOAP services (and their respective WSDL) can be seen on the address: <strong>{base_url}/soap-ws</strong> </p>
<h3 id="inbound-connector">Inbound connector<a class="headerlink" href="#inbound-connector" title="Permanent link">&para;</a></h3>
<p>One SOAP service has, potentially, multiple methods that are exposed. Each method is represented by a separate SIP connector.
Prerequisite for the usage is to have a WSDL file that describes the service and generated necessary service classes.</p>
<p>To define an Inbound SOAP Connector you need to extend the <code>SoapInboundConnectorBase&lt;&gt;</code> class and annotate the class with standard @InboundConnector annotation.
SoapInboundConnectorBase&lt;&gt; class has a generic parameter which is the service class that is generated from the WSDL file.</p>
<p>Besides defining the service class in the generic, you need to define the method that is exposed by the connector by overriding the <code>getServiceOperationName()</code> method.</p>
<p>All the requests will be automatically handled by this connector and unmarshalled to the defined request model.</p>
<p>Example:
<pre class="highlight"><code class="language-java">@InboundConnector(
    connectorGroup = "soap-customer-service",
    requestModel = UpdateCustomer.class,
    integrationScenario = UpdateCustomerScenario.ID)
public class UpdateCustomerConnector extends SoapOperationInboundConnectorBase&lt;CustomerService&gt; {

  @Override
  public String getServiceOperationName() {
    return "updateCustomer";
  }

}</code></pre></p>
<h3 id="outbound-connector">Outbound connector<a class="headerlink" href="#outbound-connector" title="Permanent link">&para;</a></h3>
<p>Similar rules apply to the Outbound connector as they do to the Inbound connector. You need to extend the <code>SoapOutboundConnectorBase&lt;&gt;</code> class and annotate the class with @OutboundConnector annotation.
SoapOutboundConnectorBase&lt;&gt; class has a generic parameter which is the service class and you need to extend getServiceOperationName() method to define the method.</p>
<p>Example:
<pre class="highlight"><code class="language-java">@OutboundConnector(
    connectorGroup = "soap-customer-service",
    requestModel = GetCustomersByName.class,
    responseModel = GetCustomersByNameResponse.class,
    integrationScenario = GetCustomersByNameScenario.ID)
public class GetCustomersByNameOutboundConnector
    extends SoapOperationOutboundConnectorBase&lt;CustomerService&gt; {

  @Override
  public String getServiceOperationName() {
    return "getCustomersByName";
  }

}</code></pre></p>
<p>If there is no configuration for the default address of the service (see <a href="./#bean-based-configuration">Bean based configuration</a>), you need to define the address of the service by overriding the <code>getAddress()</code> method.
<pre class="highlight"><code class="language-java">  @Override
  protected String getServiceAddress() {
    return "http://localhost:8081/customerservice";
  }</code></pre></p>
<h3 id="bean-based-configuration">Bean based configuration<a class="headerlink" href="#bean-based-configuration" title="Permanent link">&para;</a></h3>
<p>SOAP starter uses Apache CXF as an underlying library for SOAP implementation, and thus it has a lot of configuration options.</p>
<p>All the configuration options are available in the <code>CxfEndpoint</code> class and can be overridden by defining a bean of that type with the name of the service class (see <a href="https://www.javadoc.io/doc/org.apache.camel/camel-cxf/3.2.0/org/apache/camel/component/cxf/CxfEndpoint.html">CxfEndpoint</a>).</p>
<p>SIP Framework will automatically find the inbound and outbound connectors that use the same service class and will use the configuration defined in the bean.</p>
<p>Example:
<pre class="highlight"><code class="language-java">  @Bean("CustomerService")
  public CxfEndpoint createCustomerServiceEndpoint() throws ClassNotFoundException {
    CxfEndpoint serviceEndpoint = new CxfEndpoint();
    serviceEndpoint.setAddress("http://localhost:8080/customerService");
    serviceEndpoint.setUsername("admin");
    serviceEndpoint.setPassword("admin");

    return serviceEndpoint;
  }</code></pre></p>
<h3 id="cxf-generator-plugin">CXF generator plugin<a class="headerlink" href="#cxf-generator-plugin" title="Permanent link">&para;</a></h3>
<p>If the SIP archetype is used to create a project that uses the SOAP starter, the CXF generator plugin is already configured and ready to use.</p>
<p>Adding a .wsdl file to the adapter's resources and running <code>mvn compile</code> will generate all the CXF service classes.</p>
<p>If the archetype isn't used, then this configuration can be added to the .pom file of the adapter to enable the CXF generator plugin:
<pre class="highlight"><code class="language-xml">&lt;plugin&gt;
  &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;
  &lt;artifactId&gt;cxf-codegen-plugin&lt;/artifactId&gt;
&lt;/plugin&gt;</code></pre></p>
<p><em>Note</em>: Please refer to the <em>sip-starter-parent</em> pom.xml for the default plugin configuration. By default, it scans only *.wsdl files inside <em>resources</em> folder.
That can be overridden in the adapter's own <plugin> configuration by providing an alternative configuration.</p>
              
            </div>
          </div><footer>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
      <p>© Copyright 2021, <a href="https://ikor.one">IKOR GmbH</a> & contributors</p>
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/IKOR-GmbH/sip-framework" class="fa fa-github" style="color: #fcfcfc"> GitHub</a>
        </span>
    
    
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../javascript/javadoc_menu_dropdown.js"></script>
      <script src="../javascript/copy_to_clipboard.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
